# Changelog for 2025-07-18

- [2025-07-18] [Refactor] Implemented events.ts storage module with all event-related methods from storage.ts
  - Moved 11 Event CRUD methods: getEvent, getEventWithRelations (with optimized and simple variants), getActiveEventsWithRelations, getAllEvents, getEventsByServerId, canViewEvent, canEditEvent, createScript, updateScript, deleteScript
  - Moved 11 Conditional Action methods: getSuccessActions, getFailActions, getAlwaysActions, getConditionActions, createAction, deleteActionsByEventId, deleteSuccessEventsByScriptId, deleteFailEventsByScriptId, deleteAlwaysEventsByScriptId, deleteConditionEventsByScriptId, getConditionalActionsByEventId
  - Note: Environment variable methods (getEnvVars, createEnvVar) remain in the variables module as per the storage module architecture
  - Kept private deleteEnvVarsByEventId method in events module for deleteScript dependency
- [2025-07-18] [Refactor] Implemented workflow-execution.ts storage module with all execution tracking methods from storage.ts
  - Implemented 4 Workflow Log methods: getWorkflowLog, getWorkflowLogs, createWorkflowLog, updateWorkflowLog (lines 2026-2082)
  - Implemented 5 Workflow Execution methods: getWorkflowExecution, getWorkflowExecutions, getUserWorkflowExecutions, createWorkflowExecution, updateWorkflowExecution (lines 2085-2196)
  - Implemented 4 Workflow Execution Event methods: createWorkflowExecutionEvent, getWorkflowExecutionEvents, updateWorkflowExecutionEvent (lines 2199-2257)
  - Added proper imports for database tables, Drizzle ORM utilities, and type definitions
  - Implemented complex joins in getWorkflowExecutionEvents to include event name and type from events table
  - Fixed getUserWorkflowExecutions to properly join with workflows table for user filtering
  - Total 388 lines of fully functional code replacing stub implementation