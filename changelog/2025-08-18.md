# Changelog - 2025-08-18

## Security Enhancements

- [2025-08-18] [Security] Added encryption for SMTP passwords in system settings
  - Updated `encryption-service.ts` to include `smtpPassword` in sensitive settings list
  - Modified `SystemStorage` class to encrypt/decrypt sensitive system settings
  - Updated `getSmtpSettings()` function in `email.ts` to handle decrypted passwords
  - Created migration script `encrypt-smtp-passwords.ts` to encrypt existing unencrypted passwords
  - Sensitive system settings (like `smtpPassword` and `openaiApiKey`) are now encrypted at rest using AES-256-GCM
  - **FIXED**: Updated main `DatabaseStorage` class in `storage.ts` to properly encrypt/decrypt sensitive settings

## Bug Fixes

- [2025-08-18] [Bug Fix] Fixed SMTP port validation error in admin dashboard
  - Fixed type mismatch issue where SMTP port was sometimes returned as a number but expected as a string
  - Updated `SmtpSettings` component to always convert port to string before validation
  - Modified interfaces to accept both string and number types for `smtpPort`
  - Ensures consistent string type when saving settings to backend

## UI Improvements

- [2025-08-18] [Feature] Added show/hide password toggle to SMTP password field
  - Added Eye/EyeOff icon button to toggle password visibility
  - Improved user experience when entering SMTP credentials
  - Added proper accessibility labels for the toggle button
